SELECT COUNT(*) FROM trade_ai.daily_value;

SELECT COUNT(DISTINCT symbol) FROM trade_ai.daily_value;


SELECT
ROUND((DATA_LENGTH + INDEX_LENGTH) / 1024 / 1024, 2) AS size_mb
FROM
information_schema.TABLES
WHERE
TABLE_SCHEMA = 'trade_ai'
AND TABLE_NAME = 'daily_value';


SELECT COUNT(*) FROM trade_ai.alpaca_asset;

SELECT symbol, COUNT(*) AS nb_lignes
FROM trade_ai.daily_value
GROUP BY symbol
HAVING COUNT(*) < 500;

SELECT COUNT(*) AS nb_symboles
FROM (
SELECT symbol
FROM trade_ai.daily_value
GROUP BY symbol
HAVING COUNT(*) > 500
) AS sous_requete;

UPDATE trade_ai.alpaca_asset
SET eligible = TRUE
WHERE symbol IN (
SELECT symbol
FROM trade_ai.daily_value
GROUP BY symbol
HAVING COUNT(*) > 500
);


  SELECT symbol
  FROM trade_ai.alpaca_asset
  WHERE symbol NOT IN (
  SELECT symbol FROM trade_ai.daily_value
  );

2172 + 9510 = 11682